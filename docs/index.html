<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-22-23-prct09-funko-app-brayanjoseperezramos</title><meta name="description" content="Documentation for ull-esit-inf-dsi-22-23-prct09-funko-app-brayanjoseperezramos"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-22-23-prct09-funko-app-brayanjoseperezramos</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>ull-esit-inf-dsi-22-23-prct09-funko-app-brayanjoseperezramos</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#practica-9-funko-app" id="practica-9-funko-app" style="color: inherit; text-decoration: none;">
  <h1>Practica 9: Funko App</h1>
</a>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-BrayanJosePerezRamos/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-BrayanJosePerezRamos/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-BrayanJosePerezRamos/actions/workflows/coveralls.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-BrayanJosePerezRamos/actions/workflows/coveralls.yml/badge.svg" alt="Coveralls"></a></p>
<p>En el desarrollo de esta práctica, se nos ha encomendado la tarea de implementar una aplicación destinada a almacenar información de los Funko Pops pertenecientes a la colección de un usuario. Para ello, se nos ha pedido que se implementen funcionalidades que permitan agregar, modificar, eliminar, listar y leer la información asociada a cada Funko en cuestión. Todo esto se llevará a cabo mediante la utilización de archivos JSON que se almacenarán en el sistema de ficheros de la máquina donde se ejecute la aplicación, cada usuario tendrá una carpeta con su colección de funkos. Es importante mencionar que la interacción con la aplicación se realiza mediante la línea de comandos, es decir los comandos se los pasamos como parametros en la ejecución del programa.</p>
<p>Para la implementación de la aplicación se debe utilizar los paquetes <code>yargs</code> y <code>chalk</code> para la gestión de los argumentos y la salida por consola respectivamente. Además, se trabajará con el API síncrona de <code>fs</code> para la gestión de los ficheros. Puede consultar mas a profundidad los requerimientos de la practica en el <a href="https://ull-esit-inf-dsi-2223.github.io/prct09-filesystem-funko-app/">enunciado</a>.</p>

<a href="#implementación" id="implementación" style="color: inherit; text-decoration: none;">
  <h2>Implementación.</h2>
</a>
<p>Para la implementación de la aplicación, he decidido crear una clase funko, la cual se utiliza para crear objetos de tipo funko y almacenar la información de cada uno de ellos. Tambien se ha implementado una clase fileModifier la cual se encarga de la gestión de los archivos y base de datos de la aplicación. Esta clase se encarga de leer, escribir, modificar y eliminar los archivos JSON y carpetas de los usuarios. Por último, se ha implementado en un fichero <code>app.ts</code> con todo el manejo de los argumentos y la salida por consola de la aplicación.</p>

<a href="#enumerados" id="enumerados" style="color: inherit; text-decoration: none;">
  <h3>Enumerados</h3>
</a>
<p>Se han implementado diferentes enumerados para diferentes caracteristicas que pueden tener los funkos. Estos enumerados son:</p>
<ul>
<li><code>FunkoType</code>: Enumerado que contiene los diferentes tipos de funkos que existen.</li>
<li><code>FunkoGenre</code>: Enumerado que contiene los diferentes generos de funkos que existen.</li>
<li><code>FunkoFranchise</code>: Enumerado que contiene las diferentes franquicias de funkos que existen.</li>
<li><code>ValueRange</code>: Enumerado que contiene los diferentes rangos de valores que pueden tener los funkos, en este caso se han determinado 4 rangos: <code>cheap</code>, <code>medium</code>, <code>high</code> y <code>expensive</code>.</li>
</ul>

<a href="#clase-funko" id="clase-funko" style="color: inherit; text-decoration: none;">
  <h3>Clase Funko</h3>
</a>
<p>Esta clase se ha diseñado para almacenar la información de cada funko. Para ello, se han definido los siguientes atributos:</p>
<pre><code class="language-typescript"><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">Funko</span><span class="hl-1"> {	</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">id</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-4">// identificador del funko</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-4">// nombre del funko</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">description</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-4">// descripción del funko</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">type</span><span class="hl-1">: </span><span class="hl-2">FunkoType</span><span class="hl-1">, </span><span class="hl-4">// tipo de funko</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">genre</span><span class="hl-1">: </span><span class="hl-2">FunkoGenre</span><span class="hl-1">, </span><span class="hl-4">// género del funko</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">franchise</span><span class="hl-1">: </span><span class="hl-2">FunkoFranchise</span><span class="hl-1">, </span><span class="hl-4">// franquicia del funko</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">franchiseId</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-4">// identificador de la franquicia</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">exclusive</span><span class="hl-1">: </span><span class="hl-2">boolean</span><span class="hl-1">, </span><span class="hl-4">// si es exclusivo o no</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">specialCaracteristics</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-4">// características especiales</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">value</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1"> </span><span class="hl-4">// valor del funko</span><br/><span class="hl-1">...</span>
</code></pre>
<p>En el constructor de la clase se inicializan los atributos con los valores que se le pasan como parámetros. Además, se comprueba que los parámetros que se le pasan son correctos, en caso de que no lo sean se lanza una excepción, he tenido en cuenta que al leer los archivos JSON, los valores que se leen pueden ser null o undefined y demás, por lo que he tenido que contemplar estos casos. </p>
<p>Además, se han implementado getters y setters para cada uno de los atributos de la clase. Estos métodos se utilizan para obtener y modificar los valores de los atributos de la clase pues estos son privados, cabe destacar que en los setters se comprueba que los valores que se le pasan son correctos, en caso de que no lo sean se lanza una excepción.</p>
<p>Por ultimo, se ha implementado el método <code>print</code> el cual se encarga de imprimir por consola la información del funko, tiene la característica de que el atributo <code>value</code> se imprime de un color u otro (utilizando chalk) en función del enumerado <code>ValueRange</code> al que pertenezca dicho valor. En este método se imprime la información por pantalla y tambien se devuelve en forma de string para poder hacer pruebas con este método.</p>

<a href="#clase-filemodifier" id="clase-filemodifier" style="color: inherit; text-decoration: none;">
  <h3>Clase FileModifier</h3>
</a>
<p>La clase <code>FileModifier</code> se encarga de la gestión de los archivos y base de datos de la aplicación. Esta clase se encarga de leer, escribir, modificar y eliminar los archivos JSON y carpetas de los usuarios. Para ello, se han definido solo un atributo, que es la ruta a la carpeta de la base de datos de la aplicación.</p>
<pre><code class="language-typescript"><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">FileModifier</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-0">static</span><span class="hl-1"> </span><span class="hl-0">readonly</span><span class="hl-1"> </span><span class="hl-3">filePath</span><span class="hl-1"> = </span><span class="hl-5">&#39;./FunkoAppDB/&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">constructor</span><span class="hl-1">() {}</span><br/><span class="hl-1">...</span>
</code></pre>
<p>Se puede observar que el atributo es estático y es de solo lectura, esto se debe a que la ruta a la carpeta de la base de datos no debe cambiar durante la ejecución de la aplicación. Además, se ha definido como <code>private</code> para que no se pueda acceder a este atributo desde fuera de la clase.</p>
<p>El constructor de la clase no recibe ningún parámetro, ya que no es necesario inicializar ningún atributo.</p>
<p>Además en la clase se han definido diferentes métodos estáticos, estos métodos se utilizan para realizar las diferentes operaciones para trabajar con los archivos y la base de datos de la aplicación, son estáticos para que no sea necesario crear un objeto de la clase para poder utilizarlos.</p>

<a href="#método-createuserdirectory" id="método-createuserdirectory" style="color: inherit; text-decoration: none;">
  <h4>Método <code>createUserDirectory</code></h4>
</a>
<p>Este método se encarga de crear la carpeta del usuario en la base de datos de la aplicación. Este método recibe como parámetro el nombre del usuario y crea la carpeta con el nombre del usuario en la ruta de la base de datos.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-6">createUserDirectory</span><span class="hl-1">(</span><span class="hl-3">UserName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">mkdirSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">UserName</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>En este método se utiliza el método síncrono <code>mkdirSync</code> del paquete <code>fs</code> para crear la carpeta del usuario en la ruta de la base de datos, concatenando la ruta de la base de datos con el nombre del usuario que será el nombre de la carpeta.</p>

<a href="#método-createfunkofile" id="método-createfunkofile" style="color: inherit; text-decoration: none;">
  <h4>Método <code>createFunkoFile</code></h4>
</a>
<p>Este método se encarga de crear el archivo JSON del funko en la base de datos de la aplicación. Este método recibe como parámetros el nombre del usuario y el objeto de tipo funko que se quiere guardar en el archivo JSON.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-6">createFunkoFile</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-3">funko</span><span class="hl-1">: </span><span class="hl-3">Funko</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobar que hay una carpeta con el nombre del usuario</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">existsSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">userName</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">createUserDirectory</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">data</span><span class="hl-1"> = </span><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-3">funko</span><span class="hl-1">, </span><span class="hl-0">null</span><span class="hl-1">, </span><span class="hl-9">2</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">writeFileSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">userName</span><span class="hl-1"> + </span><span class="hl-5">&#39;/&#39;</span><span class="hl-1"> + </span><span class="hl-5">&#39;funko&#39;</span><span class="hl-1"> + </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">getId</span><span class="hl-1">() + </span><span class="hl-5">&#39;.json&#39;</span><span class="hl-1">, </span><span class="hl-3">data</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>En este método lo primero que se hace es comprobar que existe una carpeta con el nombre del usuario en la base de datos, en caso de que no exista se crea la carpeta con el método <code>createUserDirectory</code>. Después, se crea un string con la información del funko en formato JSON, para ello se utiliza el método <code>JSON.stringify</code> del paquete <code>fs</code>. Por último, se utiliza el método síncrono <code>writeFileSync</code> del paquete <code>fs</code> para escribir la información del funko en el archivo JSON.</p>

<a href="#método-readfunkofile" id="método-readfunkofile" style="color: inherit; text-decoration: none;">
  <h4>Método <code>readFunkoFile</code></h4>
</a>
<p>Para leer un archivo JSON se ha implementado el método <code>readFunkoFile</code>, este método recibe como parámetros el nombre del fichero a leer y retorna el objeto Funko con la información leida del JSON.</p>
<pre><code class="language-Typescript"><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-6">readFunkoFile</span><span class="hl-1">(</span><span class="hl-3">fileName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-3">Funko</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">data</span><span class="hl-1"> = </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">readFileSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">fileName</span><span class="hl-1">).</span><span class="hl-6">toString</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">jsonData</span><span class="hl-1"> = </span><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-3">data</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">funko</span><span class="hl-1">: </span><span class="hl-2">Funko</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-6">Funko</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-3">jsonData</span><span class="hl-1">.</span><span class="hl-3">id</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">jsonData</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">jsonData</span><span class="hl-1">.</span><span class="hl-3">description</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">jsonData</span><span class="hl-1">.</span><span class="hl-3">type</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">jsonData</span><span class="hl-1">.</span><span class="hl-3">genre</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">jsonData</span><span class="hl-1">.</span><span class="hl-3">franchise</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">jsonData</span><span class="hl-1">.</span><span class="hl-3">franchiseId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">jsonData</span><span class="hl-1">.</span><span class="hl-3">exclusive</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">jsonData</span><span class="hl-1">.</span><span class="hl-3">specialCaracteristics</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">jsonData</span><span class="hl-1">.</span><span class="hl-3">value</span><br/><span class="hl-1">    );  </span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-3">funko</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>En este método se utiliza el método síncrono <code>readFileSync</code> del paquete <code>fs</code> para leer el archivo JSON, se utiliza el método <code>toString</code> para convertir el buffer leido a string. Después, se utiliza el método <code>JSON.parse</code> para convertir el string leido a un objeto JSON. Por último, se crea un objeto de tipo Funko con la información leida del JSON y se retorna.</p>

<a href="#método-updatefunkofile" id="método-updatefunkofile" style="color: inherit; text-decoration: none;">
  <h4>Método <code>updateFunkoFile</code></h4>
</a>
<p>Para actualizar un archivo JSON se ha implementado el método <code>updateFunkoFile</code>, este método recibe como parámetros el nombre del fichero a actualizar y el objeto de tipo funko que se quiere guardar en el archivo JSON.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-6">updateFunkoFile</span><span class="hl-1">(</span><span class="hl-3">path</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-3">funko</span><span class="hl-1">: </span><span class="hl-3">Funko</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobar primero si existe la carpeta del usuario</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkUserName</span><span class="hl-1">(</span><span class="hl-3">path</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">data</span><span class="hl-1"> = </span><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-3">funko</span><span class="hl-1">, </span><span class="hl-0">null</span><span class="hl-1">, </span><span class="hl-9">2</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">writeFileSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">path</span><span class="hl-1">, </span><span class="hl-3">data</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>En este método primero comprueba que existe la carpeta del usuario en la base de datos, en caso de que no exista se lanza una excepción. Después, se crea un string con la información del funko en formato JSON, para ello se utiliza el método <code>JSON.stringify</code> del paquete <code>fs</code>. Por último, se utiliza el método síncrono <code>writeFileSync</code> del paquete <code>fs</code> para escribir la información del funko en el archivo JSON.</p>

<a href="#método-deletefunkofile" id="método-deletefunkofile" style="color: inherit; text-decoration: none;">
  <h4>Método <code>deleteFunkoFile</code></h4>
</a>
<p>Para borrar un fichero de funko, se ha implementado el método <code>deleteFunkoFile</code>, este método recibe como parámetro el nombre del fichero a borrar.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-6">deleteFunkoFile</span><span class="hl-1">(</span><span class="hl-3">path</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobar primero si existe la carpeta del usuario</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkUserName</span><span class="hl-1">(</span><span class="hl-3">path</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">unlinkSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">path</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Basicamente este método primero comprueba que existe la carpeta del usuario en la base de datos, en caso de que no exista se lanza una excepción. Después, se utiliza el método síncrono <code>unlinkSync</code> del paquete <code>fs</code> para borrar el archivo JSON.</p>

<a href="#método-deleteuserdirectory" id="método-deleteuserdirectory" style="color: inherit; text-decoration: none;">
  <h4>Método <code>deleteUserDirectory</code></h4>
</a>
<p>Para borrar una carpeta de usuario, se ha implementado el método <code>deleteUserDirectory</code>, este método recibe como parámetro el nombre del usuario a borrar.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-6">deleteUserDirectory</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobar primero si existe la carpeta del usuario</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkUserName</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">rmdirSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">userName</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Lo que hace este método es primero comprobar que existe la carpeta del usuario en la base de datos, en caso de que no exista se lanza una excepción. Después, se utiliza el método síncrono <code>rmdirSync</code> del paquete <code>fs</code> para borrar la carpeta del usuario.</p>

<a href="#método-checkfunkoid" id="método-checkfunkoid" style="color: inherit; text-decoration: none;">
  <h4>Método <code>checkFunkoId</code></h4>
</a>
<p>Se ha implementado este método para comprobar que el id del funko no existe ya en la base de datos, este método recibe como parámetro el id del funko a comprobar y retorna un booleano indicando si el id existe o no.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-6">checkFunkoId</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-3">funkoId</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">boolean</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobar primero si existe la carpeta del usuario</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkUserName</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">files</span><span class="hl-1"> = </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">readdirSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">userName</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">for</span><span class="hl-1"> (</span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">file</span><span class="hl-1"> </span><span class="hl-0">of</span><span class="hl-1"> </span><span class="hl-3">files</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">funko</span><span class="hl-1"> = </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">readFunkoFile</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1"> + </span><span class="hl-5">&#39;/&#39;</span><span class="hl-1"> + </span><span class="hl-3">file</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">getId</span><span class="hl-1">() === </span><span class="hl-3">funkoId</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>En este método primero se comprueba que existe la carpeta del usuario en la base de datos, en caso de que no exista se lanza una excepción. Después, se utiliza el método síncrono <code>readdirSync</code> del paquete <code>fs</code> para leer los archivos de la carpeta del usuario. Por último, se recorre el array de archivos y se lee cada archivo con el método <code>readFunkoFile</code>, se comprueba si el id del funko leido es igual al id del funko que se quiere comprobar y se retorna un booleano indicando si el id existe o no.</p>

<a href="#método-checkusername" id="método-checkusername" style="color: inherit; text-decoration: none;">
  <h4>Método <code>checkUserName</code></h4>
</a>
<p>Se ha implementado este método para comprobar que el nombre del usuario existe en la base de datos, este método recibe como parámetro el nombre del usuario a comprobar y retorna un booleano indicando si el nombre existe o no.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-6">checkUserName</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-3">boolean</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">existsSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">userName</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>En este método se utiliza el método síncrono <code>existsSync</code> del paquete <code>fs</code> para comprobar si existe la carpeta del usuario en la base de datos, se retorna un booleano indicando si el nombre existe o no.</p>

<a href="#método-getpathfromid" id="método-getpathfromid" style="color: inherit; text-decoration: none;">
  <h4>Método <code>getPathFromId</code></h4>
</a>
<p>Este método lo que hace es buscar el path de un funko a partir de su id, este método recibe como parámetros el nombre del usuario y el id del funko y retorna el path del funko.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-6">getPathFromId</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-3">funkoId</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">files</span><span class="hl-1"> = </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">readdirSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">userName</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">path</span><span class="hl-1"> = </span><span class="hl-5">&#39;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-7">for</span><span class="hl-1"> (</span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">file</span><span class="hl-1"> </span><span class="hl-0">of</span><span class="hl-1"> </span><span class="hl-3">files</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">funko</span><span class="hl-1"> = </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">readFunkoFile</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1"> + </span><span class="hl-5">&#39;/&#39;</span><span class="hl-1"> + </span><span class="hl-3">file</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">getId</span><span class="hl-1">() === </span><span class="hl-3">funkoId</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">path</span><span class="hl-1"> = </span><span class="hl-3">userName</span><span class="hl-1"> + </span><span class="hl-5">&#39;/&#39;</span><span class="hl-1"> + </span><span class="hl-3">file</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-3">path</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-3">path</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>En este método se utiliza el método síncrono <code>readdirSync</code> del paquete <code>fs</code> para leer los archivos de la carpeta del usuario. Por último, se recorre el array de archivos y se lee cada archivo con el método <code>readFunkoFile</code>, se comprueba si el id del funko leido es igual al id del funko que se quiere comprobar y se retorna el path del funko.</p>

<a href="#método-listfunkos" id="método-listfunkos" style="color: inherit; text-decoration: none;">
  <h4>Método <code>listFunkos</code></h4>
</a>
<p>Este método lo que hace es listar todos los funkos de un usuario, este método recibe como parámetro el nombre del usuario y retorna un array de strings con el nombre de los ficheros.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-6">listFunkos</span><span class="hl-1">(</span><span class="hl-3">userName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-3">string</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">files</span><span class="hl-1"> = </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">readdirSync</span><span class="hl-1">(</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-3">filePath</span><span class="hl-1"> + </span><span class="hl-3">userName</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-3">files</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>En este método se utiliza el método síncrono <code>readdirSync</code> del paquete <code>fs</code> para leer los archivos de la carpeta del usuario y se retorna un array de strings con el nombre de los ficheros.</p>

<a href="#app" id="app" style="color: inherit; text-decoration: none;">
  <h3>App</h3>
</a>
<p>En el fichero <code>app.ts</code> se ha impolementado todos los comandos de la aplicación utilizando yargs, se ha implementado un comando para cada una de las operaciones que se pueden realizar con la aplicación. Además se utiliza el paquete <code>chalk</code> para darle color a los mensajes de la aplicación, los mensajes informativos se muestran en color verde y los mensajes de error en color rojo.</p>
<p>Cabe destacar que se utiliza <code>demandCommand</code> para obligar a que se introduzca al menos un comando en la aplicación, en caso de que no se introduzca ningún comando se muestra un mensaje de error y la ayuda de la aplicación.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">// Con esto obligamos a que se introduzca al menos un comando</span><br/><span class="hl-1">  .</span><span class="hl-6">demandCommand</span><span class="hl-1">(</span><span class="hl-9">1</span><span class="hl-1">, </span><span class="hl-5">&#39;Debes introducir al menos un comando&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-6">help</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">argv</span><span class="hl-1">;</span>
</code></pre>

<a href="#comando-add" id="comando-add" style="color: inherit; text-decoration: none;">
  <h4>Comando <code>add</code></h4>
</a>
<p>El comando <code>add</code> se utiliza para añadir un nuevo funko a la base de datos, este comando recibe como opciones el nombre de usuario a agregar el funko y la id única del nuevo funko, además recibe también todos los atributos que posee un funko. Todos y cada uno de los atributos son obligatorios, al igual que el userName y el id, que es algo común a todos los comandos.</p>
<pre><code class="language-typescript"><span class="hl-1">  .</span><span class="hl-6">command</span><span class="hl-1">(</span><span class="hl-5">&#39;add&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Add a new funko&#39;</span><span class="hl-1">, (</span><span class="hl-3">yargs</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">yargs</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;userName&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;id&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko ID&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;name&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko name&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;description&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko description&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;type&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko type&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;genre&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko genre&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;franchise&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko franchise&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;franchiseId&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko franchise ID&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;exclusive&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko exclusive&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;boolean&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;specialCaracteristics&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko special characteristics&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;value&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko value&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> });</span><br/><span class="hl-1">    }, (</span><span class="hl-3">argv</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobar si hay un funko con el mismo id</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkFunkoId</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">id</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;There is already a funko with ID: &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">id</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">// bloque try catch para manejar los posibles errores</span><br/><span class="hl-1">    </span><span class="hl-7">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">FunkoNuevo</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-6">Funko</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">id</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">description</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">FunkoType</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">genre</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">FunkoGenre</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">franchise</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">FunkoFranchise</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">franchiseId</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">exclusive</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">boolean</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">specialCaracteristics</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">value</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">      </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">createFunkoFile</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-3">FunkoNuevo</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Funko added successfully&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-7">catch</span><span class="hl-1"> (</span><span class="hl-3">error</span><span class="hl-1">: </span><span class="hl-2">any</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;Error adding funko: &#39;</span><span class="hl-1"> + </span><span class="hl-3">error</span><span class="hl-1">.</span><span class="hl-3">message</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }  </span><br/><span class="hl-1">  })</span>
</code></pre>
<p>Se aprecia que lo que se hace es primero comprobar si hay un funko con el mismo id, en caso de que exista se muestra un mensaje de error y se sale del comando. Después, se crea un nuevo objeto de tipo <code>Funko</code> con los atributos que se han pasado como parámetros al comando estando esto dentro de un bloque <code>try catch</code> para manejar los posibles errores al crear el objeto que se lanzan en el constructor de la clase <code>Funko</code>. Por último, se crea el fichero del funko con el método <code>createFunkoFile</code> y se muestra un mensaje de éxito. En caso de que se produzca algún error se muestra un mensaje de error en rojo.</p>

<a href="#comando-update" id="comando-update" style="color: inherit; text-decoration: none;">
  <h4>Comando <code>update</code></h4>
</a>
<p>Este comando tiene la función de actualizar un funko, este comando recibe como opciones el nombre de usuario a actualizar el funko y la id única del funko a actualizar, estos dos son las únicas opciones obligatorias, luego se puede pasar como opción cualquiera de los atributos del funko que se desee actualizar, pero debe pasarse al menos uno de estos.</p>
<pre><code class="language-Typescript"><span class="hl-1">  .</span><span class="hl-6">command</span><span class="hl-1">(</span><span class="hl-5">&#39;update&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Updates a funko from the user collection&#39;</span><span class="hl-1">, (</span><span class="hl-3">yargs</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">yargs</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;userName&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;ID&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko ID&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;name&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko name&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;description&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko description&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;type&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko type&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;genre&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko genre&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;franchise&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko franchise&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;franchiseId&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko franchise ID&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;exclusive&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko exclusive&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;boolean&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;specialCaracteristics&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko special characteristics&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;value&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko value&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">check</span><span class="hl-1">((</span><span class="hl-3">argv</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">// Chequeamos que al menos una opción no demandada sea proporcionada</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">nonDemandedOptions</span><span class="hl-1"> = [</span><br/><span class="hl-1">          </span><span class="hl-5">&#39;name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">&#39;description&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">&#39;type&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">&#39;genre&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">&#39;franchise&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">&#39;franchiseId&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">&#39;exclusive&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">&#39;specialCaracteristics&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">&#39;value&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        ];</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">hasOption</span><span class="hl-1"> = </span><span class="hl-3">nonDemandedOptions</span><span class="hl-1">.</span><span class="hl-6">some</span><span class="hl-1">((</span><span class="hl-3">option</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">argv</span><span class="hl-1">[</span><span class="hl-3">option</span><span class="hl-1">] !== </span><span class="hl-0">undefined</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-3">hasOption</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-7">throw</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-6">Error</span><span class="hl-1">(</span><span class="hl-5">&#39;At least one non-demanded option must be provided&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">;</span><br/><span class="hl-1">      });  </span><br/><span class="hl-1">    }, (</span><span class="hl-3">argv</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobamos primero si existe el id</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkFunkoId</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-8">ID</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;There is no funko with ID: &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-8">ID</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">path</span><span class="hl-1"> = </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">getPathFromId</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-8">ID</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">funko</span><span class="hl-1"> = </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">readFunkoFile</span><span class="hl-1">(</span><span class="hl-3">path</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">) </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">setName</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">description</span><span class="hl-1">) </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">setDescription</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">description</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">type</span><span class="hl-1">) </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">setType</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">FunkoType</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">setGenre</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">genre</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">FunkoGenre</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">franchise</span><span class="hl-1">) </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">setFranchise</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">franchise</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">FunkoFranchise</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">franchiseId</span><span class="hl-1">) </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">setFranchiseId</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">franchiseId</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">exclusive</span><span class="hl-1">) </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">setExclusive</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">exclusive</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">boolean</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">specialCaracteristics</span><span class="hl-1">) </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">setSpecialCaracteristics</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">specialCaracteristics</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">value</span><span class="hl-1">) </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">setValue</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">value</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><br/><span class="hl-1">      </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">updateFunkoFile</span><span class="hl-1">(</span><span class="hl-3">path</span><span class="hl-1">, </span><span class="hl-3">funko</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Funko updated successfully&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-7">catch</span><span class="hl-1"> (</span><span class="hl-3">error</span><span class="hl-1">: </span><span class="hl-2">any</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;Error updating funko: &#39;</span><span class="hl-1"> + </span><span class="hl-3">error</span><span class="hl-1">.</span><span class="hl-3">message</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  })</span>
</code></pre>
<p>Se puede observar como despues de todas las opciones tenemos un bloque <code>check</code> que comprueba que al menos una opción no demandada sea proporcionada, esto es para que como mencioné previamente, se pase una o mas opciones para actualizar el funko. Después, se comprueba si existe el funko con la id proporcionada, en caso de que no exista se muestra un mensaje de error y se sale del comando. Después, se lee el fichero del funko con el método <code>readFunkoFile</code> y se actualizan los atributos del funko con los que se han pasado como parámetros al comando, en caso de que no se haya pasado un parámetro para actualizar un atributo, este no se actualiza. Después, se actualiza el fichero del funko con el método <code>updateFunkoFile</code> y se muestra un mensaje de éxito. En caso de que se produzca algún error se muestra un mensaje de error en rojo.</p>

<a href="#comando-read" id="comando-read" style="color: inherit; text-decoration: none;">
  <h4>Comando <code>read</code></h4>
</a>
<p>Este comando lo que hace es un funko en concreto, este comando recibe como opciones el nombre de usuario a leer el funko y la id única del funko a leer, estos dos son las únicas opciones y son obligatorias.</p>
<pre><code class="language-Typescript"><span class="hl-1">  .</span><span class="hl-6">command</span><span class="hl-1">(</span><span class="hl-5">&#39;read&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Reads a funko from the user collection&#39;</span><span class="hl-1">, (</span><span class="hl-3">yargs</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">yargs</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;userName&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;ID&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko ID&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> });</span><br/><span class="hl-1">  }, (</span><span class="hl-3">argv</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobamos primero si existe el id</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkFunkoId</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-8">ID</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;There is no funko with ID: &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-8">ID</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">path</span><span class="hl-1"> = </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">getPathFromId</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-8">ID</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">funko</span><span class="hl-1"> = </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">readFunkoFile</span><span class="hl-1">(</span><span class="hl-3">path</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Mostrando la información del funko con ID &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-8">ID</span><span class="hl-1"> + </span><span class="hl-5">&#39;, del usuario: &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">print</span><span class="hl-1">();</span><br/><span class="hl-1">    } </span><span class="hl-7">catch</span><span class="hl-1"> (</span><span class="hl-3">error</span><span class="hl-1">: </span><span class="hl-2">any</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;Error reading funko: &#39;</span><span class="hl-1"> + </span><span class="hl-3">error</span><span class="hl-1">.</span><span class="hl-3">message</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  })</span>
</code></pre>
<p>Basicamente lo que hace el comando es comprobar si existe el funko con la id proporcionada, en caso de que no exista se muestra un mensaje de error y se sale del comando. Después, se lee el fichero del funko con el método <code>readFunkoFile</code> y se muestra la información del funko con el método <code>print</code> de la clase <code>Funko</code>.</p>

<a href="#comando-delete" id="comando-delete" style="color: inherit; text-decoration: none;">
  <h4>Comando <code>delete</code></h4>
</a>
<p>Este comando lo que hace es eliminar un funko de la colección de un usuario, este comando recibe como opciones el nombre de usuario a eliminar el funko y la id única del funko a eliminar, estos dos son las únicas opciones y son obligatorias.</p>
<pre><code class="language-Typescript"><span class="hl-1">  .</span><span class="hl-6">command</span><span class="hl-1">(</span><span class="hl-5">&#39;delete&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Deletes a funko from the user collection&#39;</span><span class="hl-1">, (</span><span class="hl-3">yargs</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">yargs</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;userName&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">      .</span><span class="hl-6">option</span><span class="hl-1">(</span><span class="hl-5">&#39;ID&#39;</span><span class="hl-1">, { </span><span class="hl-3">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Funko ID&#39;</span><span class="hl-1">, </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;number&#39;</span><span class="hl-1">, </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> });</span><br/><span class="hl-1">  }, (</span><span class="hl-3">argv</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobamos si existe el usuario</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkUserName</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;There is no user with name: &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobamos primero si existe el id</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkFunkoId</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-8">ID</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;There is no funko with ID: &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-8">ID</span><span class="hl-1"> + </span><span class="hl-5">&#39; in the user: &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> + </span><span class="hl-5">&#39; collection&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">path</span><span class="hl-1"> = </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">getPathFromId</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-8">ID</span><span class="hl-1"> </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">number</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">deleteFunkoFile</span><span class="hl-1">(</span><span class="hl-3">path</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Funko deleted successfully from &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> + </span><span class="hl-5">&#39;</span><span class="hl-10">\&#39;</span><span class="hl-5">s collection&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">  })</span>
</code></pre>
<p>Lo que hace el comando es comprobar si existe el usuario con el nombre proporcionado, en caso de que no exista se muestra un mensaje de error y se sale del comando. Después, se comprueba si existe el funko con la id proporcionada, en caso de que no exista se muestra un mensaje de error y se sale del comando. Después, se elimina el fichero del funko con el método <code>deleteFunkoFile</code> y se muestra un mensaje de éxito.</p>

<a href="#comando-listfunkos" id="comando-listfunkos" style="color: inherit; text-decoration: none;">
  <h4>Comando <code>listFunkos</code></h4>
</a>
<p>Este comando lo que hace es listar todos los funkos de la colección de un usuario, recibe como opciones el nombre de usuario a listar los funkos, esta opción es obligatoria.</p>
<pre><code class="language-Typescript"><span class="hl-1">  .</span><span class="hl-6">command</span><span class="hl-1">(</span><span class="hl-5">&#39;listFunkos&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Lists all the funkos from a user&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-3">userName:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  }, (</span><span class="hl-3">argv</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobamos primero si existe el usuario</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkUserName</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;There is no user with name: &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">funkos</span><span class="hl-1"> = </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">listFunkos</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">// crear array de los funkos</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">funkosArray</span><span class="hl-1">: </span><span class="hl-2">Funko</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-7">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">for</span><span class="hl-1"> (</span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">file</span><span class="hl-1"> </span><span class="hl-0">of</span><span class="hl-1"> </span><span class="hl-3">funkos</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">funk</span><span class="hl-1"> = </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">readFunkoFile</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1"> + </span><span class="hl-5">&#39;/&#39;</span><span class="hl-1"> + </span><span class="hl-3">file</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-3">funkosArray</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-3">funk</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    } </span><span class="hl-7">catch</span><span class="hl-1"> (</span><span class="hl-3">error</span><span class="hl-1">: </span><span class="hl-2">any</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;Error reading the funkos files: &#39;</span><span class="hl-1">, </span><span class="hl-3">error</span><span class="hl-1">.</span><span class="hl-3">message</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">// ordenar de mayor a menor</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">funkosSorted</span><span class="hl-1"> = </span><span class="hl-3">funkosArray</span><span class="hl-1">.</span><span class="hl-6">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-6">getValue</span><span class="hl-1">() - </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-6">getValue</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Mostrando la información de la FunkoColeccion del usuario: &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-7">for</span><span class="hl-1"> (</span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-8">funko</span><span class="hl-1"> </span><span class="hl-0">of</span><span class="hl-1"> </span><span class="hl-3">funkosSorted</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-3">funko</span><span class="hl-1">.</span><span class="hl-6">print</span><span class="hl-1">();</span><br/><span class="hl-1">      </span><span class="hl-4">// salto de linea</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">();</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">greenBright</span><span class="hl-1">(</span><span class="hl-5">&#39;--------------------------------&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  })</span>
</code></pre>
<p>Lo que hace el comando es comprobar si existe el usuario con el nombre proporcionado, en caso de que no exista se muestra un mensaje de error y se sale del comando. Después, se listan todos los ficheros de funkos del usuario con el método <code>listFunkos</code> y se crea un array de funkos con el método <code>readFunkoFile</code>, esto desntro de un try catch para controlar los errores. Después, se ordena el array de funkos de mayor a menor valor y se muestra la información de cada funko con el método <code>print</code>.</p>

<a href="#comando-createuser" id="comando-createuser" style="color: inherit; text-decoration: none;">
  <h4>Comando <code>CreateUser</code></h4>
</a>
<p>Este comando basicamente crea el directorio del usuario en la base de datos, recibe como opciones el nombre de usuario a crear, esta opción es obligatoria.</p>
<pre><code class="language-Typescript"><span class="hl-1">  .</span><span class="hl-6">command</span><span class="hl-1">(</span><span class="hl-5">&#39;CreateUser&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;Creates a user directory&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-3">userName:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">description:</span><span class="hl-1"> </span><span class="hl-5">&#39;User name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">demandOption:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  }, (</span><span class="hl-3">argv</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// comprobamos primero si existe el usuario</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">checkUserName</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-5">&#39;There is already a user with name: &#39;</span><span class="hl-1"> + </span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-3">FileModifier</span><span class="hl-1">.</span><span class="hl-6">createUserDirectory</span><span class="hl-1">(</span><span class="hl-3">argv</span><span class="hl-1">.</span><span class="hl-3">userName</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span>
</code></pre>
<p>Basicamente, primero se comprueba si existe el usuario con el nombre proporcionado, en caso de que exista se muestra un mensaje de error y se sale del comando. Después, se crea el directorio del usuario con el método <code>createUserDirectory</code>.</p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">ull-<wbr/>esit-<wbr/>inf-<wbr/>dsi-<wbr/>22-<wbr/>23-<wbr/>prct09-<wbr/>funko-<wbr/>app-<wbr/>brayanjoseperezramos</a>
<ul>
<li class="tsd-kind-module"><a href="modules/app.html">app</a></li>
<li class="tsd-kind-module"><a href="modules/fileModifier.html">file<wbr/>Modifier</a></li>
<li class="tsd-kind-module"><a href="modules/funko.html">funko</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>